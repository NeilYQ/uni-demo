(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"2bcf":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("f3d3")),a=r(n("2f62"));function r(e){return e&&e.__esModule?e:{default:e}}o.default.use(a.default);var u="https://api.wulv5.com/music",i=new a.default.Store({state:{audio:e.createInnerAudioContext(),details:{},paused:!0,lrc:{},history:[],styleMode:0,styleList:[{name:"列表循环",iconUrl:"../../static/loop.png"},{name:"单曲循环",iconUrl:"../../static/singleLoop.png"},{name:"随机播放",iconUrl:"../../static/randomLoop.png"},{name:"顺序播放",iconUrl:"../../static/orderPlay.png"}],musicIndex:0},mutations:{setSrc:function(e,t){e.audio.src=t,e.audio.play(),e.paused=!1},setDetail:function(e,t){e.details=t},setLrc:function(e,t){e.lrc=t},setHistory:function(e,t){var n=e.history.findIndex(function(e){return t[1].id===e.detail.id});n&&e.history.unshift({mp3Url:t[0],detail:t[1],lrc:t[2]})},setStyleMode:function(e){e.styleMode=++e.styleMode%e.styleList.length},play:function(e){e.audio.play(),e.paused=!1},pause:function(e){e.audio.pause(),e.paused=!0},setMusicIndex:function(e,t){switch(e.styleMode){case 0:e.musicIndex=t<0&&0===e.musicIndex?e.history.length-1:(e.musicIndex+t)%e.history.length;break;case 1:break;case 2:var n=parseInt(Math.random()*e.history.length);while(n===e.musicIndex)n=parseInt(Math.random()*e.history.length);e.musicIndex=n;break;case 3:e.musicIndex=e.musicIndex+t<0||e.musicIndex+t>e.history.length-1?e.musicIndex:e.musicIndex+t;break;default:break}}},actions:{getSrc:function(t,n){var o=t.commit;t.dispatch;Promise.all([new Promise(function(t,a){e.request({url:u+"/song/url?id=".concat(n.id),success:function(e){o("setSrc",e.data.data[0].url),t(e.data.data[0].url)}})}),new Promise(function(t,a){e.request({url:u+"/song/detail?ids=".concat(n.id),success:function(e){var n={id:e.data.songs[0].id,picUrl:e.data.songs[0].al.picUrl,name:e.data.songs[0].name,author:e.data.songs[0].ar[0].name};o("setDetail",n),t(n)}})}),new Promise(function(t,a){e.request({url:u+"/lyric?id=".concat(n.id),success:function(e){o("setLrc",e.data.lrc.lyric),t(e.data.lrc.lyric)}})})]).then(function(e){o("setHistory",e)})}}});t.default=i}).call(this,n("6e42")["default"])},"2c8f":function(e,t,n){"use strict";n.r(t);var o=n("61a2"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a},"5d49":function(e,t,n){"use strict";n("2799");var o=u(n("f3d3")),a=u(n("d5a7")),r=u(n("2bcf"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default.config.productionTip=!1,a.default.mpType="app",o.default.prototype.$store=r.default;var s=new o.default(i({store:r.default},a.default));s.$mount()},"61a2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("2f62"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={computed:r({},o.default.mapState(["audio","history","musicIndex","styleMode"])),onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};t.default=i},d5a7:function(e,t,n){"use strict";n.r(t);var o=n("2c8f");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("fc59");var r,u,i=n("2877"),c=Object(i["a"])(o["default"],r,u,!1,null,null,null);t["default"]=c.exports},ea99:function(e,t,n){},fc59:function(e,t,n){"use strict";var o=n("ea99"),a=n.n(o);a.a}},[["5d49","common/runtime","common/vendor"]]]);